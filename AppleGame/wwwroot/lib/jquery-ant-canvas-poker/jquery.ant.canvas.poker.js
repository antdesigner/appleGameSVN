!function(t){function e(t,e,i,r,o){var n=new a(t,r);n.X=e,n.Y=i;var h=t.getContext("2d");h.save(),h.lineWidth=1,n.Y=i+h.lineWidth,h.strokeStyle="green",h.fillStyle="white",0==o.Name.length&&(h.fillStyle="darkgrey",h.strokeStyle="white"),h.beginPath();var l=n.width/8;return h.moveTo(n.X+l,n.Y),h.lineTo(n.X+n.width-l,n.Y),h.arcTo(n.X+n.width,n.Y,n.X+n.width,n.Y+l,l),h.lineTo(n.X+n.width,n.Y+n.height-l),h.arcTo(n.X+n.width,n.Y+n.height,n.X+n.width-l,n.Y+n.height,l),h.lineTo(n.X+l,n.Y+n.height),h.arcTo(n.X,n.Y+n.height,n.X,n.Y+n.height-l,l),h.lineTo(n.X,n.Y+l),h.arcTo(n.X,n.Y,n.X+l,n.Y,l),h.closePath(),h.stroke(),h.fill(),h.restore(),n}function i(t,e,i){var r=t.height/2.5,a=o(e),n="";switch(e.CardColor){case"h":n="♥";break;case"s":n="♠";break;case"d":n="♣";break;case"c":n="♦";break;case"z":n="☻";case"y":n="☻";break;default:n=""}var h=t.canvasContext,r=.4*t.width;if("h"==e.CardColor)r=.38*t.width;var l=t.X+2,s=t.Y+.5*t.width;h.font=r+"px Arial",h.textAlign="left",h.textBaseline="hanging",h.fillStyle=a,h.fillText(n,l,s)}function r(t,e){var i=.4*t.width,r="normal";"10"==e.Name&&(i=.35*t.width,r="bolder");var a=o(e),n=e.Name,h=t.canvasContext,l=t.X+1,s=t.Y+5;h.font=r+" "+i+"px Arial",h.textAlign="left",h.textBaseline="hanging",h.fillStyle=a,h.fillText(n,l,s)}function o(t){var e="red";switch(t.CardColor){case"h":case"c":e="red";break;case"s":case"d":case"y":e="black";break;default:e="red"}return e}function a(t,e){this.canvasContext=t.getContext("2d"),this.height=e,this.width=this.height*s,this.X,this.Y}function n(e,i,r,o,a,n,h){var l=i*s,d=.7*l,g=a,f=n;t.each(e,function(t,e){c(h,g,f,e,i,r),g+=1==o?d:1.1*l})}function h(e,i,r,o,a,n,h){var l=i*s,d=.7*l,g=a-d*(e.length-1)-l,f=n;t.each(e,function(t,e){c(h,g,f,e,i,r),g+=1==o?d:1.1*l})}function l(e,i,r,o,a,n,h){var l=i*s,d=.7*l,g=a,f=n;t.each(e,function(t,e){c(h,g,f,e,i,r),f+=1==o?d:1.1*l})}var s=5.7/8.8,c=function(t,o,a,n,h,l){var c=t.getContext("2d");c.save();var d=o+h*s/2,g=a+h/2;c.globalCompositeOperation="source-over",c.translate(d,g),c.rotate(l*Math.PI/180),c.translate(-d,-g);var f=e(t,o,a,h,n);r(f,n),i(f,n),c.translate(d,g),c.rotate(180*Math.PI/180),c.translate(-d,-g),r(f,n),i(f,n),c.restore()},d={init:function(e){var i={pokers:[{Name:"error",CardColor:"h"}],pokerHeight:75,deg:0,pile:!0,x:0,y:0},r=t.extend({},i,e);"toRight"==r.direction?n(r.pokers,r.pokerHeight,r.deg,r.pile,r.x,r.y,this.get(0)):"toBottom"==r.direction?l(r.pokers,r.pokerHeight,r.deg,r.pile,r.x,r.y,this.get(0)):"toLeft"==r.direction?h(r.pokers,r.pokerHeight,r.deg,r.pile,r.x,r.y,this.get(0)):n(r.pokers,r.pokerHeight,r.deg,r.pile,r.x,r.y,this.get(0))},toRight:function(t,e,i,r,o,a){n(t,e,i,r,o,a,this.get(0))},toBottom:function(t,e,i,r,o,a){l(t,e,i,r,o,a,this.get(0))},toLeft:function(t,e,i,r,o,a){n(t,e,i,r,o,a,this.get(0))}};t.fn.drawPoker=function(e,i,r,o,a,n,h){var l=arguments[0];if(d[l])l=d[l],arguments=Array.prototype.slice.call(arguments,1);else{if("object"!=typeof l&&l)return t.error("Mehod "+l+" does not exist on this object"),this;l=d.init}return l.apply(this,arguments)}}(jQuery);